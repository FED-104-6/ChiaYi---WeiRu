<aside class="sidebar">
  <div class="sidebar-header">
    <a class="logo" (click)="navigateHome()">BNB</a>
    <p>Management System</p>
    <div class="lang-switch">
      <button [class.active]="language === 'en'" (click)="setLanguage('en')">ENGLISH</button>
      <button [class.active]="language === 'zh'" (click)="setLanguage('zh')">CHINESE</button>
    </div>
  </div>

  <nav>
    <!-- 只有 Admin 可以看到 All Users -->
    <a *ngIf="userRole === 'admin'" href="#" (click)="checkAuth('/all-users'); $event.preventDefault()">
      All Users
    </a>

    <!-- Profile 主選單 -->
    <a href="#" (click)="toggleProfileMenu(); $event.preventDefault()">Profile</a>
    <div *ngIf="profileMenuOpen" class="submenu">
      <a href="#" (click)="navigateTo('/update-profile'); $event.preventDefault()">Update Profile</a>
    </div>

    <!-- Flats 主選單 -->
    <a href="#" (click)="toggleFlatsMenu(); $event.preventDefault()">Flats</a>
    <div *ngIf="flatsMenuOpen" class="submenu">
      <!-- Admin 只看到 All Flats -->
      <a *ngIf="userRole === 'admin'" href="#" (click)="navigateTo('/admin-view-flat'); $event.preventDefault()">All Flats</a>
      <!-- Host 看到 Edit Flat + My Flat -->
      <a *ngIf="userRole === 'host'" href="#" (click)="navigateTo('/flats/view-flat', [1]); $event.preventDefault()">View Flat</a>
      <a *ngIf="userRole === 'host'" href="#" (click)="navigateTo('/flats/edit-flat', [1]); $event.preventDefault()">Edit Flat</a>
      <a *ngIf="userRole === 'host'" href="#" (click)="navigateTo('/flats/my-flats'); $event.preventDefault()">My Flat</a>
    </div>

    <!-- Messages 與 Logout -->
    <a href="#" *ngIf="userRole" (click)="goToMessages(); $event.preventDefault()">Messages</a>
    <a href="#" (click)="logout(); $event.preventDefault()">Logout</a>
  </nav>
</aside>
