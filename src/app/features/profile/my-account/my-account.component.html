<div class="main-content">

  <!-- My Account Header -->
  <div class="my-account-header">
    <div class="avatar-section">
      <img [src]="profileImage || 'assets/default-avatar.png'" alt="" class="avatar-img">
      <input type="file" (change)="onImageChange($event)" hidden #fileInput>
      <button class="edit-avatar-btn" (click)="fileInput.click()">Change Photo</button>
    </div>
    <p class="my-account-subtitle">Update personal information</p>
  </div>

  <!-- My Account Info Cards -->
  <div class="my-account-info">
    <div class="info-card" *ngFor="let field of profileFields">
      <div class="info-row">
        <div class="info-left">
          <h3>{{ field.label }}</h3>
          <p>{{ field.value || '-' }}</p>
        </div>
        <button class="edit-btn" (click)="editField(field.key)">Edit</button>
      </div>

      <!-- 編輯區 -->
      <div class="edit-section" *ngIf="editingField === field.key">
        <div class="edit-row">
          <input
            [type]="
              field.key === 'password' && !showPassword
                ? 'password'
                : field.key === 'birthdate'
                ? 'date'
                : 'text'
            "
            [(ngModel)]="editValue"
            [placeholder]="'Enter new ' + getFieldLabel(field.key)" />
          <button class="save-btn" (click)="saveEdit()">Save</button>
          <button class="cancel-btn" (click)="cancelEdit()">Cancel</button>
        </div>

        <!-- 顯示/隱藏密碼 -->
        <div *ngIf="editingField === 'password'" class="toggle-password-container">
          <button type="button" class="toggle-password-btn" (click)="togglePassword()">
            {{ showPassword ? 'Hide' : 'Show' }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
