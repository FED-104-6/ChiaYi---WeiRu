<div class="home-container">
  <div class="home-image">
    <img src="/assets/home-bg-img01.jpg" alt="Home Image">
  </div>
  <div class="home-content">
    <h1 class="main-logo">BNB</h1>
    <p class="subtext">Live a slower life for your soul to catch up.</p>
  </div>

  <!-- 搜尋欄 -->
  <div class="search-bar">
    <div class="search-field">
      <label for="checkin">Check in</label>
      <input type="date" id="checkin" name="checkin">
    </div>
    <div class="search-field">
      <label for="checkout">Check out</label>
      <input type="date" id="checkout" name="checkout">
    </div>
    <div class="search-field">
      <label for="guests">Guests</label>
      <select id="guests" name="guests">
        <option value="1">1 guest</option>
        <option value="2">2 guests</option>
        <option value="3">3 guests</option>
        <option value="4+">4+ guests</option>
      </select>
    </div>
    <div class="search-bed">
      <label for="beds">Beds</label>
      <select id="beds" name="beds">
        <option value="1">1 bed</option>
        <option value="2">2 beds</option>
        <option value="3">3 beds</option>
      </select>
    </div>
    <button class="search-btn" (click)="onSearch()">Search</button>
  </div>

  <!-- Footer -->
  <footer class="home-footer">
    <div class="cta-buttons">
      <a routerLink="/register" class="btn-register">Register</a>
      <ng-container *ngIf="!(authService.isLoggedIn$ | async); else logoutBtn">
        <a routerLink="/login" class="btn-login">Login</a>
      </ng-container>
      <ng-template #logoutBtn>
        <button class="btn-logout" (click)="logout()">Logout</button>
      </ng-template>
    </div>
  </footer>
</div>

<!-- 固定右下角提問按鈕 -->
<button 
  class="question-btn" 
  *ngIf="role === 'guest'" 
  (click)="toggleQuestionModal()">
  <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 0 24 24" width="30px" fill="#fff"><path d="M0 0h24v24H0z" fill="none"/><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></svg>
</button>

<!-- 問題輸入 Modal -->
<div *ngIf="showQuestionModal" class="modal">
  <div class="modal-content">
    <h3>Hello! This is the BNB booking platform. <br>We can answer any questions you may have.</h3>
    
    <!-- 問題標題 -->
    <input 
      type="text" 
      [(ngModel)]="questionTitle" 
      placeholder="Enter your question title"
    />

    <!-- 問題內容 -->
    <textarea 
      [(ngModel)]="questionContent" 
      placeholder="Type your question details"
    ></textarea>

    <div class="modal-actions">
      <button (click)="submitQuestion()">Submit</button>
      <button (click)="toggleQuestionModal()">Cancel</button>
    </div>
  </div>
</div>

<app-new-flat></app-new-flat>

<!-- 顯示 flats -->
<div #viewFlatSection>
  <app-view-flat></app-view-flat>
</div>
